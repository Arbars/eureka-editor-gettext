
Eureka TODO / WISHLIST
======================


______________________________________________________________________

  HIGH PRIORITY
______________________________________________________________________


BSP rework
----------

!!  check that ALL logic can handle an empty map (NO linedefs etc)

+  make read errors NOT call FatalError()

+  fix ZDoom format
   -  XNOD/ZNOD require SEGS to be written in USAGE ORDER
   -  use the _zdoom_seg_t and _zdoom_subsec_t
   -  support XNOD uncompressed  [ same as ZNOD but without the zlib ]
   -  support ZNOD as a preference

+  CMD_BuildAllNodes: if a MadeChanges dialog is shown and user
   saves the map, then inhibit a node build for that save


General
-------

+  Preferences:
   -  sector_render_default
   -  floor_bump_xxx values

+  allow Game and Port definitions to specify the linedef and thing
   flags which can be used  (rather than hard-coding them)



Documentation
-------------

+  a tutorial for the basics

   - describe what a wad file is, PWAD vs IWAD, how to play it,
     what nodes are, how wad files can contain more than maps,
     different games and source ports

   - describe basic elements of a map: Lines, Vertices, Sectors, Things, SideDefs

   - describe the four modes V/L/S/T, and their panels

   - hilighting stuff, selecting stuff, dragging stuff

   - drawing lines in VERTEX mode

   - using the browser
   
   - common pitfalls (vertices sitting on a linedef or another vertex)

+  information on each binding command, parameters etc..



Editing
-------

+  automatically build nodes on save (only for that map)
   (need to more tightly integrate a node builder into the code)

+  ENTER key pops up an "operation" menu, which provides all the
   commands that can be done via the keyboard (e.g. flip linedefs)

   (could also be bound to right mouse button)

+  the criss-crossing-lines detection is too sloppy
   [ e.g. see MAP24 of Ancient Aliens ]

+  hard to select very short (1-unit) lines?

+  crossing lines sometimes mucks up?
   e.g. drawing over the stairs in MAP01

+  improve X texture alignment
   [ e.g. picking "wrong" or not-optimal line ]



3D View
-------

+  smooth movement via keyboard
   -  call a function in Main_Loop
   -  if did a move, Fl::wait(0) instead of 0.2
   -  handle key up/down events in UI_Canvas::handle()



Browser
-------

+  when opened by a click, jump to the texture/thing/etc clicked on


______________________________________________________________________

  LOWER PRIORITY
______________________________________________________________________


General
-------

+  Large font mode, more readable on 1920x1080 monitors

+  sprite rendering in the 2D canvas

-  a key to copy properties TO defaults (e.g. 'y' for yank)

-  View/Place Camera command, cursor turns into +
   [ need an ACT_ASK_SPOT action, plus a /ask flag for command ]

+  Preferences window:
   +  add backup_max_files / backup_max_space
   -  implement the scrolling sizes
   -  add more stuff (see USER CONFIG NEEDED, below)

+  a dialog to view / load / prune backups.

IDEA: MMB on sidedef/sector tex : open RECENT browser

IDEA: a toolbar

WISH: support Windows 95/98/ME

      [running on Windows 98SE requires KernelEx]

WISH: can import DWD (DoomEd) format maps

WISH: can import UDMF format maps


+  File / Test Map
   +  make filenames absolute
   +  configurable stuff FOR EACH PORT  [ EACH GAME for "vanilla" ]
      -  folder to 'cd' into
      -  program to invoke
      -  arguments to use (-iwad, -file, -merge, -warp)
         [ configured in the port's UGH file [ game for "vanilla" ]]
   -  support resource wads
   -  make sure the user built the nodes
      (option to invoke it automatically, or not check at all)

   -  each map (via .dat?) can specify _override_ config

-  vertex/linedef mode: '[' and ']' to adjust length of current line

-  tag checking: check for valid usage of special 666 / 667 tags.

-  binding functions for all menu stuff (NewMap, OpenMap, etc....)
   (perhaps prefix with MENU_xxx)

-  improve Key binding preferences:
   +  "Grab" button in UI_EditKey
   -  "Find" or "Match" button for function in UI_EditKey
   -  reverse ordering of KCTX_XXX values

-  make sure Load/Export wad filename not already in master_dir

-  PRINT key to make a screenshot of map or 3D view

-  texture checks : warn about a 2S switch line with same switch in
   both the UPPER and LOWER textures

IDEA: for generalized lines, show more info in tooltip of desc

IDEA: after inserting a new object, allow moving another object
      (i.e. set edit.did_a_move = true).  Perhaps config item.

IDEA: when building REJECT, support a simple distance check
      [ i.e. if distance between two sectors >= N, mark as cannot see ]

WISH: a scripting language

WISH: support ZDoom PK3 for textures (etc)

WISH: support DECORATE as (or in) a resource file

WISH: ability to view (perhaps edit) a map header lump
      (for FraggleScript etc...)

WISH: ability to create / view / edit / import arbitrary lumps
      (e.g. MAPINFO, DECORATE, etc...)



Documentation
-------------

+  add supported OSes -- e.g. Windows >= XP

-  document texture browser (RIGHT click etc)

-  make a manpage for the debian package, list cmdline options

-  command line arguments page



Coding
------



Editing
-------

-  for "type" in Line/Sector/Thing panels, update the desc as we type

+  for the "Edit -> Paste" menu, turn the cursor into crosshairs
   and wait until the user selects a spot to paste to.

+  support PNG/JPEG/TGA for patches, flats, sprites
   -->  feature png ??
   [ need to analyse PNG data for "grAB" chunk, or not?? ]

+  when dragging a shape next to existing geometry, highlight
   vertices and linedefs which would get merged, and implement
   that merging.

-  a proper "curve" tool for making a circle arc or bezier curve,
   and new vertices would be constrained to that curve, and you can
   move existing vertices onto the curve.

-  feature request: a way to see angle of lines

-  assume texture names beginning with '#' are special
   (The texture checker ignores them -- what else is needed ??)

-  way to set uppers/lowers on certain 1S lines (e.g. MBF sky transfer)

WISH : autocomplete flat/texture names in Linedef and Sector panels

Q/ how to handle self-referencing linedefs in auto create/split sector ??

Q/  disconnect sectors : include islands (perhaps with 'D')

IDEA:  in Find/Replace panel, can filter things by CATEGORY

IDEA: for quantizing a group of objects, try about 9 delta
      positions (x+0, x+step/4, x-step/4 etc...) and choose the
      "best" quantization.



3D View
-------

+  draw the sky (optionally)

-  option to reverse mouse movement

-  closed sectors have a see-through gap (gets bigger further away)

+  being able to select stuff to modify:
   - things
   - floors
   - ceilings
   - sidedef textures

-  moving up/down with RMB should not disable gravity when change
   is small

-  able to drag stuff around
   - raise/lower floors
   - move things on a 2D plane
   - move things vertically (for Hexen format)

+  slopes

-  BOOM colormaps

-  BOOM deep water

-  extrafloors
   -  create a DrawWall for their floor/ceil and sides
   -  distance is slightly closer than normal wall segment

-  feature "tile_nonpow2"  [ emulate tutti frutti when absent ]

WISH: bound flats by 1S lines facing away from the camera

WISH: rotated sprites

IDEA: 3D_NAV_CircleStrafe command



Browser
-------

-  can change the [max] size of the texture/flat previews

-  scroll speed (i.e. linesize) is configurable

-  search box: ',' for OR

-  preference for # of RECENT items

IDEA: a command to clear the recent lists

IDEA: using "Browser / Things" (etc) to open the browser will reset
      the category to ALL and clear the match string

IDEA: ability to shrink categories, i.e. say that for things the
      'b' (bonus) and 'k' categories should become a single one



Game / Port Definitions
-----------------------

+  flesh out the ZDoom configuration

-  FreeDOOM : categorize all the new textures

-  HacX : categorize the textures

IDEA: for DOOM have "Switch", "Grating", "Door" categories

IDEA: add MBF things: 2016 "BETA Sceptre", 2017 "BETA Bible"

WISH: conversion between Hexen <--> DOOM formats
      [ perhaps as a script ]

WISH: conversion from Boom --> vanilla DOOM



Possible user config
--------------------

headroom button_1..6

paste_reselects  (true)


______________________________________________________________________

  NOT-TO-DO
______________________________________________________________________


NO:  UDMF support

NO:  use OpenGL for rendering 2D and/or 3D views

NO:  Restore last window position and maximized state

NO:  un-hard-code menu shortcuts?

NO:  ability to use an external node builder

NO:  if a given pwad (from command line) does not exist, ask to create it

     perhaps: --create or --new option?

NO:  built-in cheat sheet for mouse buttons and common keys

NO:  document the config file syntax


NO:  when one vertex of a linedef is moved (and not the other)
     update the X offset on the appropriate side (right side for start,
     left side for end vertex).

NO:  support SPACE/INSERT in linedef mode (and line is highlighted or selected)
     split the line and put vertex where mouse is
     [ can do this in vertex mode easily enough ]

NO:  merge vertex and linedef modes

NO:  nicer way to select map, render a small 2D version of each map
     and present them in a scrolling list.

NO:  ability to drag the camera (on 2D viewport)

NO:  when moving a sector and the camera is inside it, move camera too

NO:  ability to edit Lua code for OBLIGE prefabs


NO:  3D view: handle very tall/thin window, letter box with black

NO:  an auto-save feature (e.g. save every N minutes unless no
     changes occurred in the last N minutes).

NO:  a name-only mode for texture and flat browsers

NO:  exchange object numbers

NO:  check that current pwad has been externally modified

NO:  when highlighting a sector, draw the things in the same color
     but diimer, to show sector operators will affect things too

NO:  support Chex Quest 1 and 2

NO:  ability to "remove line 271" (etc) in port definitions


NO:  "USED" category for the browser

NO:  speed up grid drawing when step is small and zoomed out

NO:  integrate Visplane Explorer

NO:  support DDF / LDF / EDF as (or in) a resource file

NO:  "fix" missing coop starts, place them near player #1

NO:  a key to toggle "grab mouse" mode in 3D view

NO:  animation mode, render continuously and show any lighting
     effects and animated / scrolling textures and sprites

NO:  ability to hide the right-side panel

NO:  quantization should prevent linedefs from overlapping / crossing

